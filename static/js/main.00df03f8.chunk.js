(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(e,t,n){e.exports=n.p+"static/media/banner.56eac4d3.jpg"},33:function(e,t,n){e.exports=n(54)},44:function(e,t,n){},47:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(15),c=n.n(o),s=n(14),i=n(12),l=n(56),u=n(55),m=(n(42),n(4)),p=n(5),h=n(7),d=n(6),f=n(8),E=n(57),g=n(3),v=n(27),O=n.n(v),b=(n(44),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("img",{src:O.a,alt:"Banner"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"text-box"},r.a.createElement("h1",null,"TechnoBlog"),r.a.createElement("p",null,"What's up ?"))))}}]),t}(a.Component)),y=n(28),j=n.n(y),S=(n(47),n(10)),C="http://localhost:3001",k=localStorage.token;k||(k=localStorage.token=Math.random().toString(36).substr(-8));var N={Accept:"application/json","Content-Type":"application/json",Authorization:k},T=function(){return fetch("".concat(C,"/posts"),{headers:N}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},w=function(e){return fetch("".concat(C,"/posts/").concat(e),{headers:N,method:"POST",body:JSON.stringify({option:"upVote"})}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},A=function(e){return fetch("".concat(C,"/posts/").concat(e),{headers:N,method:"POST",body:JSON.stringify({option:"downVote"})}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},D=function(){return fetch("".concat(C,"/categories"),{headers:N}).then(function(e){return e.json()}).then(function(e){return e.categories}).catch(function(e){return console.log(e)})},M="LIST_POSTS",V="INCREASE_VOTES",x="DECREASE_VOTES";function I(e,t,n){return function(a){return T().then(function(r){a(function(e,t,n,a){return{type:M,posts:e,sortType:t,sortOrder:n,searchTerm:a}}(r,e,t,n))})}}function U(e){return function(t){return w(e.id).then(function(e){t(function(e){return{type:V,post:e}}(e))})}}function P(e){return function(t){return A(e.id).then(function(e){t(function(e){return{type:x,post:e}}(e))})}}var B=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"goToContent",value:function(e,t){this.props.history.push("/".concat(e,"/").concat(t))}},{key:"increaseVotes",value:function(e){this.props.dispatch(U(e))}},{key:"decreaseVotes",value:function(e){this.props.dispatch(P(e))}},{key:"render",value:function(){var e=this,t=this.props.post,n=t.title,a=t.author,o=t.body,c=t.category,s=t.commentCount,i=t.timestamp,l=t.voteScore,u=t.id;return r.a.createElement(g.f,{className:"post-item"},r.a.createElement(g.g,null,r.a.createElement(g.i,null,n," - ",r.a.createElement(g.a,{href:"#",color:"light"},c)),r.a.createElement("div",{className:"toolbar"},r.a.createElement("div",{className:"publish-info"},r.a.createElement(S.g,null),"\xa0",a,"\xa0|\xa0",j()(i).format("ddd, MMMM Do YYYY")),r.a.createElement("div",{className:"comment-count"},r.a.createElement(S.c,null),"\xa0\xa0",s)),o,r.a.createElement("br",null)),r.a.createElement(g.h,{className:"footer"},r.a.createElement("div",{className:"vote-score-container"},r.a.createElement("span",{onClick:function(){return e.decreaseVotes(e.props.post)}},r.a.createElement(S.d,null)),"\xa0",l,"\xa0",r.a.createElement("span",{onClick:function(){return e.increaseVotes(e.props.post)}},r.a.createElement(S.e,null))),r.a.createElement(g.d,{size:"sm",color:"primary",onClick:function(){return e.goToContent(c,u)}},"Read more")))}}]),t}(a.Component),J=Object(E.a)(Object(i.b)()(B)),R=(n(50),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={sortType:"DATE",sortOrder:"DESC",search:""},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this.state,t=e.sortType,n=e.sortOrder,a=e.search;this.props.dispatch(I(t,n,a))}},{key:"sortPostsByDate",value:function(){this.setState({sortType:"DATE"}),this.props.dispatch(I("DATE",this.state.sortOrder,this.state.search))}},{key:"sortPostsByVotes",value:function(){this.setState({sortType:"VOTES"}),this.props.dispatch(I("VOTES",this.state.sortOrder,this.state.search))}},{key:"toggleSortOrder",value:function(){var e="ASC"===this.state.sortOrder?"DESC":"ASC";this.setState({sortOrder:e}),this.props.dispatch(I(this.state.sortType,e,this.state.search))}},{key:"handleSearchChange",value:function(e){var t=e.target.value;this.setState({search:t}),this.props.dispatch(I(this.state.sortType,this.state.sortOrder,t))}},{key:"render",value:function(){var e=this,t=this.state,n=t.sortType,a=t.sortOrder,o=t.search;return r.a.createElement("div",{className:"post-list"},r.a.createElement("div",{className:"toolbar"},r.a.createElement("div",null,"Sort by\xa0",r.a.createElement(g.e,{size:"sm"},r.a.createElement(g.d,{outline:!0,color:"info",onClick:function(){return e.sortPostsByDate()},active:"DATE"===n},"Date"),r.a.createElement(g.d,{outline:!0,color:"info",onClick:function(){return e.sortPostsByVotes()},active:"VOTES"===n},"Votes")),"\xa0","DESC"===a&&r.a.createElement(S.i,{className:"sort-icon sort-down",onClick:function(){return e.toggleSortOrder()}}),"ASC"===a&&r.a.createElement(S.j,{className:"sort-icon sort-up",onClick:function(){return e.toggleSortOrder()}})),r.a.createElement("div",null,r.a.createElement(g.m,{size:"sm"},r.a.createElement(g.l,{placeholder:"Search...",value:o,onChange:this.handleSearchChange.bind(this)})))),r.a.createElement("br",null),this.props.posts.map(function(e){return r.a.createElement(J,{post:e,key:e.id})}))}}]),t}(a.Component));var _=Object(i.b)(function(e,t){return{posts:e.posts}})(R),z=(n(52),"SET_USER");function L(e){return function(t){return t(function(e){return{type:z,user:e}}(e))}}var Y=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={modalOpened:!1,name:""},n.toggleModal=function(){n.setState({modalOpened:!n.state.modalOpened})},n.handleChange=function(e){n.setState({name:e})},n.saveUserData=function(){var e={id:n.props.user.id,name:n.state.name};n.props.dispatch(L(e)),localStorage.setItem("user",JSON.stringify(e)),n.toggleModal()},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("user")||null;if(null===(e=JSON.parse(e))){var t={id:Math.random().toString(36).substr(-8),name:"Udacity Student"};localStorage.setItem("user",JSON.stringify(t)),e=t}this.props.dispatch(L(e)),this.handleChange(e.name)}},{key:"render",value:function(){var e=this,t=this.props.user;return r.a.createElement("div",{className:"user-interface"},r.a.createElement(S.f,null)," Hi, ",t.name," ",r.a.createElement("span",{className:"edit-user",onClick:this.toggleModal},r.a.createElement(S.b,null)),r.a.createElement("hr",null),r.a.createElement(g.q,{isOpen:this.state.modalOpened,toggle:this.toggleModal},r.a.createElement(g.t,{toggle:this.toggleModal},"User data"),r.a.createElement(g.r,null,r.a.createElement(g.j,null,r.a.createElement(g.k,null,r.a.createElement(g.n,{for:"username"},"Name"),r.a.createElement(g.l,{type:"text",name:"username",id:"username",onChange:function(t){return e.handleChange(t.target.value)},value:this.state.name})))),r.a.createElement(g.s,null,r.a.createElement(g.d,{color:"default",onClick:this.toggleModal},r.a.createElement(S.k,null)," Cancel"),r.a.createElement(g.d,{color:"success",onClick:this.saveUserData},r.a.createElement(S.h,null)," Save"))))}}]),t}(a.Component);var H=Object(i.b)(function(e,t){return{user:e.user}})(Y),W="LIST_CATEGORIES";function q(){return function(e){return D().then(function(t){e(function(e){return{type:W,categories:e}}(t))})}}var F=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(q())}},{key:"render",value:function(){var e=this.props.categories;return r.a.createElement("div",{className:"categories"},r.a.createElement(S.a,null)," Categories ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(g.o,null,r.a.createElement(g.p,{tag:"a",href:"/",key:"all"},"ALL"),e.map(function(e){return r.a.createElement(g.p,{tag:"a",href:e.path,key:e.path},e.name.toUpperCase())})))}}]),t}(a.Component);var G=Object(i.b)(function(e,t){return{categories:e.categories}})(F),K=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement(b,null),r.a.createElement("div",{className:"container"},r.a.createElement(g.b,{tag:"nav",listTag:"div"},r.a.createElement(g.c,{tag:"a",href:"/"},"Home")),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement(_,null)),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement(H,null),r.a.createElement(G,null))))))}}]),t}(a.Component),Q=Object(E.a)(K),X=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"category"},"Category")}}]),t}(a.Component),Z=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"new-post"},"Post")}}]),t}(a.Component),$=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"new-post"},"New Post / Edit post")}}]),t}(a.Component),ee=Object(s.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return t.user;default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return t.categories;default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M:switch(t.sortType){case"DATE":return t.posts.sort(function(e,n){return"ASC"===t.sortOrder?e.timestamp-n.timestamp:n.timestamp-e.timestamp}).filter(function(e){return e.title.toUpperCase().includes(t.searchTerm.toUpperCase())});case"VOTES":return t.posts.sort(function(e,n){return"ASC"===t.sortOrder?e.voteScore-n.voteScore:n.voteScore-e.voteScore}).filter(function(e){return e.title.toUpperCase().includes(t.searchTerm.toUpperCase())});default:return t.posts}case V:case x:return e.map(function(e,n){return e.id===t.post.id?t.post:e});default:return e}}}),te=n(32),ne=function(e){return function(t){return function(n){console.group(n.type),console.log("Current action: ",n);var a=t(n);return console.log("New state: ",e.getState()),console.groupEnd(),t(a)}}},ae=Object(s.a)(te.a,ne),re=Object(s.d)(ee,ae);c.a.render(r.a.createElement(i.a,{store:re},r.a.createElement(l.a,{basename:"/readable"},r.a.createElement(a.Fragment,null,r.a.createElement(u.a,{path:"/",exact:!0,component:Q}),r.a.createElement(u.a,{path:"/:categoryName",exact:!0,component:X}),r.a.createElement(u.a,{path:"/:categoryName/:postId",exact:!0,component:Z}),r.a.createElement(u.a,{path:"/:categoryName/:postId/edit",exact:!0,component:$}),r.a.createElement(u.a,{path:"/:categoryName/0/add",exact:!0,component:$})))),document.getElementById("root"))}},[[33,2,1]]]);
//# sourceMappingURL=main.00df03f8.chunk.js.map