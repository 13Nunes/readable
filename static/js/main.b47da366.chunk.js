(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n.p+"static/media/banner.56eac4d3.jpg"},36:function(e,t,n){e.exports=n.p+"static/media/sorry.f7def4e0.gif"},37:function(e,t,n){e.exports=n.p+"static/media/back.21e770cf.gif"},38:function(e,t,n){e.exports=n.p+"static/media/404.1e6e1c9f.gif"},41:function(e,t,n){e.exports=n(70)},52:function(e,t,n){},54:function(e,t,n){},57:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(1),o=n.n(a),r=n(18),c=n.n(r),l=n(5),i=n(6),s=n(8),u=n(7),m=n(9),p=n(16),d=n(11),h=n(73),f=n(74),g=n(72),E=(n(50),n(52),n(75)),v=n(2),y=n(4),b=n(71),O=n(32),C=n.n(O),k=(n(54),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"header"},o.a.createElement("img",{src:C.a,alt:"Banner"}),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"text-box"},o.a.createElement("h1",null,o.a.createElement(b.a,{to:"/"},"TechnoBlog")),o.a.createElement("p",null,"What's up ?"))))}}]),t}(a.Component)),j=n(19),S=n.n(j),N=(n(57),"http://localhost:3001"),T=localStorage.token;T||(T=localStorage.token=Math.random().toString(36).substr(-8));var M={Accept:"application/json","Content-Type":"application/json",Authorization:T},D=function(){return fetch("".concat(N,"/posts"),{headers:M}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},w=function(e){return fetch("".concat(N,"/").concat(e,"/posts"),{headers:M}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},I=function(e){return fetch("".concat(N,"/posts/").concat(e),{headers:M}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},P=function(e){return fetch("".concat(N,"/posts/").concat(e),{headers:M,method:"POST",body:JSON.stringify({option:"upVote"})}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},A=function(e){return fetch("".concat(N,"/posts/").concat(e),{headers:M,method:"POST",body:JSON.stringify({option:"downVote"})}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},V=function(){return fetch("".concat(N,"/categories"),{headers:M}).then(function(e){return e.json()}).then(function(e){return e.categories}).catch(function(e){return console.log(e)})},x=function(e){return fetch("".concat(N,"/posts"),{headers:M,method:"POST",body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},_=function(e){return fetch("".concat(N,"/posts/").concat(e.id),{headers:M,method:"PUT",body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},H=function(e){return fetch("".concat(N,"/posts/").concat(e,"/comments"),{headers:M}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},J=function(e){return fetch("".concat(N,"/comments"),{headers:M,method:"POST",body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},U=function(e){return fetch("".concat(N,"/comments/").concat(e),{headers:M,method:"POST",body:JSON.stringify({option:"upVote"})}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},L=function(e){return fetch("".concat(N,"/comments/").concat(e),{headers:M,method:"POST",body:JSON.stringify({option:"downVote"})}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},R=function(e){return fetch("".concat(N,"/posts/").concat(e),{headers:M,method:"DELETE"}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},Y=function(e){return fetch("".concat(N,"/comments/").concat(e),{headers:M,method:"DELETE"}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},q=function(e){return fetch("".concat(N,"/comments/").concat(e.id),{headers:M,method:"PUT",body:JSON.stringify(e)}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},z="LIST_POSTS",B="INCREASE_VOTES",W="DECREASE_VOTES";function G(e,t,n,a){return{type:z,posts:e,sortType:t,sortOrder:n,searchTerm:a}}function F(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return function(o){return null===a||""===a?D().then(function(a){o(G(a,e,t,n))}):w(a).then(function(a){o(G(a,e,t,n))})}}function K(e){return function(t){return P(e.id).then(function(e){t(function(e){return{type:B,post:e}}(e))})}}function Q(e){return function(t){return A(e.id).then(function(e){t(function(e){return{type:W,post:e}}(e))})}}var X=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"goToContent",value:function(e,t){this.props.history.push("/".concat(e,"/").concat(t))}},{key:"goToCategory",value:function(e){this.props.history.push("/".concat(e))}},{key:"increaseVotes",value:function(e){this.props.dispatch(K(e))}},{key:"decreaseVotes",value:function(e){this.props.dispatch(Q(e))}},{key:"render",value:function(){var e=this,t=this.props.post,n=t.title,a=t.author,r=t.body,c=t.category,l=t.commentCount,i=t.timestamp,s=t.voteScore,u=t.id,m=localStorage.getItem("user");return m=JSON.parse(m),o.a.createElement(v.f,{className:"post-item"},o.a.createElement(v.g,null,o.a.createElement(v.i,null,o.a.createElement(b.a,{to:"/".concat(c,"/").concat(u)},n)," - ",o.a.createElement(v.a,{href:"#",color:"light",onClick:function(){return e.goToCategory(c)}}," ",c)),o.a.createElement("div",{className:"toolbar"},o.a.createElement("div",{className:"publish-info"},o.a.createElement(y.q,null),"\xa0",a===m.login?m.name:a,"\xa0|\xa0",S()(i).format("ddd, MMMM Do YYYY")),o.a.createElement("div",{className:"comment-count"},o.a.createElement(y.k,null),"\xa0\xa0",l)),r,o.a.createElement("br",null)),o.a.createElement(v.h,{className:"footer"},o.a.createElement("div",{className:"vote-score-container"},o.a.createElement("span",{className:"down",onClick:function(){return e.decreaseVotes(e.props.post)}},o.a.createElement(y.m,null)),"\xa0",s,"\xa0",o.a.createElement("span",{className:"up",onClick:function(){return e.increaseVotes(e.props.post)}},o.a.createElement(y.n,null))),o.a.createElement(v.d,{size:"sm",color:"primary",onClick:function(){return e.goToContent(c,u)}},"Read more")))}}]),t}(a.Component),Z=Object(E.a)(Object(d.b)()(X)),$=n(36),ee=n.n($),te=(n(60),function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={sortType:"DATE",sortOrder:"DESC",search:""},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.loadPostList()}},{key:"componentDidUpdate",value:function(e){this.props.category!==e.category&&this.loadPostList()}},{key:"sortPostsByDate",value:function(){var e=this.state,t=e.sortOrder,n=e.search,a=this.props.category;this.setState({sortType:"DATE"}),this.props.dispatch(F("DATE",t,n,a))}},{key:"sortPostsByVotes",value:function(){var e=this.state,t=e.sortOrder,n=e.search,a=this.props.category;this.setState({sortType:"VOTES"}),this.props.dispatch(F("VOTES",t,n,a))}},{key:"toggleSortOrder",value:function(){var e=this.state,t=e.sortType,n=e.search,a=this.props.category,o="ASC"===this.state.sortOrder?"DESC":"ASC";this.setState({sortOrder:o}),this.props.dispatch(F(t,o,n,a))}},{key:"handleSearchChange",value:function(e){var t=this.state,n=t.sortType,a=t.sortOrder,o=this.props.category,r=e.target.value;this.setState({search:r}),this.props.dispatch(F(n,a,r,o))}},{key:"loadPostList",value:function(){var e=this.state,t=e.sortType,n=e.sortOrder,a=e.search,o=this.props.category;this.props.dispatch(F(t,n,a,o))}},{key:"render",value:function(){var e=this,t=this.state,n=t.sortType,a=t.sortOrder,r=t.search,c=this.props.posts;return o.a.createElement("div",{className:"post-list"},o.a.createElement("div",{className:"toolbar"},o.a.createElement("div",null,"Sort by\xa0",o.a.createElement(v.e,{size:"sm"},o.a.createElement(v.d,{outline:!0,color:"primary",onClick:function(){return e.sortPostsByDate()},active:"DATE"===n},"Date"),o.a.createElement(v.d,{outline:!0,color:"primary",onClick:function(){return e.sortPostsByVotes()},active:"VOTES"===n},"Votes")),"\xa0","DESC"===a&&o.a.createElement(y.s,{className:"sort-icon sort-down",onClick:function(){return e.toggleSortOrder()}}),"ASC"===a&&o.a.createElement(y.t,{className:"sort-icon sort-up",onClick:function(){return e.toggleSortOrder()}})),o.a.createElement("div",null,o.a.createElement(v.m,{size:"sm"},o.a.createElement(v.l,{placeholder:"Search...",value:r,onChange:this.handleSearchChange.bind(this)})))),o.a.createElement("br",null),!0===c.loading&&o.a.createElement("div",null,"Waiting..."),!1===c.loading&&0===c.list.length&&o.a.createElement("div",null,"Sorry. No posts in this category yet",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("img",{src:ee.a,alt:"Sorry"})),!1===c.loading&&c.list.map(function(e){return o.a.createElement(Z,{post:e,key:e.id})}))}}]),t}(a.Component));var ne=Object(d.b)(function(e,t){return{posts:e.posts}})(te),ae=n(17),oe=(n(62),"SET_USER");function re(e){return function(t){return t(function(e){return{type:oe,user:e}}(e))}}var ce=["cerulean","cosmo","cyborg","darkly","flatly","jornal","litera","lumen","lux","materia","minty","pulse","sandstone","simplex","sketchy","slate","solar","spacelab","superhero","united","yeti"],le=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={modalOpened:!1,name:"",login:"",template:"cerulean"},n.toggleModal=function(){n.setState({modalOpened:!n.state.modalOpened})},n.handleInputChange=function(e,t){n.setState(Object(ae.a)({},e,t))},n.saveUserData=function(){var e={id:n.props.user.id,name:n.state.name,login:n.state.login,template:n.state.template};n.props.dispatch(re(e)),localStorage.setItem("user",JSON.stringify(e)),document.getElementById("theme").setAttribute("href","".concat("/readable","/themes/bootstrap.").concat(e.template,".min.css?v=").concat(Date.now())),n.toggleModal()},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("user")||null;if(null===(e=JSON.parse(e))){var t={id:Math.random().toString(36).substr(-8),name:"Udacity Student",login:"udacityStudent",template:"cerulean"};localStorage.setItem("user",JSON.stringify(t)),e=t}this.props.dispatch(re(e)),this.setState({name:e.name,login:e.login,template:e.template})}},{key:"render",value:function(){var e=this,t=this.props.user;return o.a.createElement("div",{className:"user-interface"},o.a.createElement(y.p,null)," Hi, ",t.name," ",o.a.createElement("span",{className:"edit-user",onClick:this.toggleModal},o.a.createElement(y.i,null)),o.a.createElement("hr",null),o.a.createElement(v.q,{isOpen:this.state.modalOpened,toggle:this.toggleModal},o.a.createElement(v.t,{toggle:this.toggleModal},"User data"),o.a.createElement(v.r,null,o.a.createElement(v.j,null,o.a.createElement(v.k,null,o.a.createElement(v.n,{for:"name"},"Name"),o.a.createElement(v.l,{type:"text",name:"name",id:"name",onChange:function(t){return e.handleInputChange("name",t.target.value)},value:this.state.name})),o.a.createElement(v.k,null,o.a.createElement(v.n,{for:"template"},"Template"),o.a.createElement(v.l,{type:"select",name:"template",id:"template",required:!0,onChange:function(t){return e.handleInputChange("template",t.target.value)},value:this.state.template},ce.map(function(e){return o.a.createElement("option",{value:e,key:e},e.toUpperCase())}))))),o.a.createElement(v.s,null,o.a.createElement(v.d,{color:"default",onClick:this.toggleModal},o.a.createElement(y.u,null)," Cancel"),o.a.createElement(v.d,{color:"success",onClick:this.saveUserData},o.a.createElement(y.r,null)," Save"))))}}]),t}(a.Component);var ie=Object(d.b)(function(e,t){return{user:e.user}})(le),se=(n(64),"LIST_CATEGORIES");function ue(){return function(e){return V().then(function(t){e(function(e){return{type:se,categories:e}}(t))})}}var me=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(ue())}},{key:"goToContent",value:function(e,t){e.preventDefault(),this.props.history.push(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.categories,a=t.selected;return o.a.createElement("div",{className:"categories"},o.a.createElement("header",null,o.a.createElement(y.e,null),"\xa0Categories"),o.a.createElement(v.o,null,o.a.createElement(v.p,{tag:"a",href:"/",active:void 0===a,onClick:function(t){return e.goToContent(t,"/")},key:"all"},"ALL"),n.list.map(function(t){return o.a.createElement(v.p,{tag:"a",active:a===t.path,href:"/"+t.path,onClick:function(n){return e.goToContent(n,"/"+t.path)},key:t.path},t.name.toUpperCase())})))}}]),t}(a.Component);var pe=Object(E.a)(Object(d.b)(function(e,t){return{categories:e.categories}})(me)),de=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"goToNewPost",value:function(e){e.preventDefault(),this.props.history.push("/new-post")}},{key:"goToHome",value:function(e){e.preventDefault(),this.props.history.push("/")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"home"},o.a.createElement(k,null),o.a.createElement("div",{className:"container"},o.a.createElement(v.b,{tag:"nav",listTag:"div"},o.a.createElement(v.c,{tag:"a",href:"#",onClick:function(t){return e.goToHome(t)}},"Home")),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-8"},o.a.createElement(ne,null)),o.a.createElement("div",{className:"col-sm-4"},o.a.createElement(ie,null),o.a.createElement(pe,null),o.a.createElement("hr",null),o.a.createElement(v.d,{color:"primary",size:"sm",block:!0,onClick:function(t){return e.goToNewPost(t)}},o.a.createElement(y.j,null),"\xa0New Post"))))))}}]),t}(a.Component),he=Object(E.a)(de),fe=n(37),ge=n.n(fe),Ee=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"goToNewPost",value:function(e){e.preventDefault(),this.props.history.push("/new-post")}},{key:"goToHome",value:function(e){e.preventDefault(),this.props.history.push("/")}},{key:"render",value:function(){var e=this,t=this.props,n=t.category,a=t.validCategory,r=n.name.charAt(0).toUpperCase()+n.name.slice(1);return o.a.createElement("div",{className:"category"},o.a.createElement(k,null),o.a.createElement("div",{className:"container"},o.a.createElement(v.b,{tag:"nav",listTag:"div"},o.a.createElement(v.c,{tag:"a",href:"#",onClick:function(t){return e.goToHome(t)}},"Home"),o.a.createElement(v.c,{active:!0},r)),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-8"},!0===a?o.a.createElement(ne,{category:n.name}):o.a.createElement("div",null,"Ooops! Invalid category ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("img",{src:ge.a,alt:"Back"}))),o.a.createElement("div",{className:"col-sm-4"},o.a.createElement(ie,null),o.a.createElement(pe,{selected:n.name}),o.a.createElement("hr",null),o.a.createElement(v.d,{color:"primary",size:"sm",block:!0,onClick:function(t){return e.goToNewPost(t)}},o.a.createElement(y.j,null),"\xa0New Post"))))))}}]),t}(a.Component);var ve=Object(E.a)(Object(d.b)(function(e,t){var n=e.categories,a=t.match.params.categoryName,o=t.location.pathname,r={name:""},c=!0;return!1===n.loading&&void 0===(r=(r=n.list.filter(function(e){return e.path===a}))[0])&&(r={name:"Oh No!"},c=!1),{categories:n,category:r,pathname:o,validCategory:c}})(Ee)),ye=(n(66),"GET_POST"),be="EDIT_POST",Oe="ADD_POST",Ce="DELETE_POST",ke="INCREASE_VOTE",je="DECREASE_VOTE";function Se(e){return function(t){return I(e).then(function(e){t(function(e){return{type:ye,post:e}}(e))})}}function Ne(e){return function(t){return x(e).then(function(e){t(function(e){return{type:Oe,data:e}}(e))})}}function Te(e){return function(t){return _(e).then(function(e){t(function(e){return{type:be,data:e}}(e))})}}function Me(e){return function(t){return P(e.id).then(function(e){t(function(e){return{type:ke,post:e}}(e))})}}function De(e){return function(t){return A(e.id).then(function(e){t(function(e){return{type:je,post:e}}(e))})}}function we(e){return function(t){return R(e).then(function(e){t(function(e){return{type:Ce,post:e}}(e))})}}n(68);var Ie="GET_POST_COMMENTS",Pe="INCREASE_COMMENT_VOTES",Ae="DECREASE_COMMENT_VOTES",Ve="ADD_COMMENT",xe="DELETE_COMMENT",_e="TOGGLE_EDIT_MODE_COMMENT",He="EDIT_COMMENT";function Je(e){return function(t){return H(e).then(function(e){t(function(e){return{type:Ie,comments:e}}(e))})}}function Ue(e){return function(t){return U(e.id).then(function(e){t(function(e){return{type:Pe,comment:e}}(e))})}}function Le(e){return function(t){return L(e.id).then(function(e){t(function(e){return{type:Ae,comment:e}}(e))})}}function Re(e){return function(t){return J(e).then(function(e){t(function(e){return{type:Ve,comment:e}}(e))})}}function Ye(e){return function(t){return Y(e).then(function(e){t(function(e){return{type:xe,comment:e}}(e))})}}function qe(e){return function(t){t(function(e){return{type:_e,comment:e}}(e))}}function ze(e){return function(t){return q(e).then(function(e){t(function(e){return{type:He,comment:e}}(e))})}}var Be=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={comment:"",selectedComment:null,editedComment:"",modalConfirmOpened:!1},n.handleInputChange=function(e,t){n.setState(Object(ae.a)({},e,t))},n.onFormSubmit=function(e){e.preventDefault();var t=localStorage.getItem("user");t=JSON.parse(t);var a={id:Math.random().toString(36).substr(-8),timestamp:Date.now(),body:n.state.comment,author:t.login,parentId:n.props.postId,editing:!1};n.props.dispatch(Re(a)),n.setState({comment:""})},n.toggleModal=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n.setState({modalConfirmOpened:!n.state.modalConfirmOpened,selectedComment:e})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.postId;this.props.dispatch(Je(e))}},{key:"componentDidUpdate",value:function(e){var t=this.props.postId;t!==e.postId&&this.props.dispatch(Je(t))}},{key:"increaseVotes",value:function(e){this.props.dispatch(Ue(e))}},{key:"decreaseVotes",value:function(e){this.props.dispatch(Le(e))}},{key:"deleteComment",value:function(){var e=this.state.selectedComment;this.props.dispatch(Ye(e.id)),this.toggleModal(null)}},{key:"enableEditModeComment",value:function(e){this.setState({editedComment:e.body}),this.toggleEditMode(e)}},{key:"toggleEditMode",value:function(e){this.props.dispatch(qe(e))}},{key:"editComment",value:function(e){var t={id:e.id,timestamp:Date.now(),body:this.state.editedComment};this.props.dispatch(ze(t)),this.setState({editedComment:""})}},{key:"render",value:function(){var e=this,t=this.props.comments,n=localStorage.getItem("user");return n=JSON.parse(n),o.a.createElement("div",{className:"comment-box"},o.a.createElement("h3",null,o.a.createElement(y.k,null),"\xa0Comments"),o.a.createElement(v.j,{onSubmit:this.onFormSubmit},o.a.createElement(v.k,{tag:"fieldset"},o.a.createElement(v.k,null,o.a.createElement(v.n,{for:"postComment"},"Post content"),o.a.createElement(v.l,{type:"textarea",maxLength:"500",required:!0,name:"postComment",id:"postComment",rows:4,onChange:function(t){return e.handleInputChange("comment",t.target.value)},"aria-multiline":"true",value:this.state.comment})),o.a.createElement(v.k,{check:!0,className:"float-right"},o.a.createElement(v.d,{color:"success"},o.a.createElement(y.h,null),"\xa0Comment")))),!1===t.loading&&t.list.map(function(t){return o.a.createElement("div",{key:t.id,className:"comment"},o.a.createElement("span",{className:"text-muted"},o.a.createElement(y.w,null)," ",t.author===n.login?n.name:t.author," at ",S()(t.timestamp).format("MMMM Do YYYY"))," ",o.a.createElement("br",null),!1===t.editing?t.body:o.a.createElement("div",null,o.a.createElement("br",null),o.a.createElement(v.j,null,o.a.createElement(v.k,{tag:"fieldset"},o.a.createElement(v.k,null,o.a.createElement(v.l,{type:"textarea",maxLength:"500",required:!0,name:"editedComment",id:"editedComment",rows:4,onChange:function(t){return e.handleInputChange("editedComment",t.target.value)},"aria-multiline":"true",value:e.state.editedComment})),o.a.createElement(v.k,{check:!0,className:"float-right"},o.a.createElement(v.d,{color:"link",onClick:function(){return e.toggleEditMode(t)}},o.a.createElement(y.c,null),"\xa0Cancel"),o.a.createElement(v.d,{color:"success",onClick:function(){return e.editComment(t)}},o.a.createElement(y.l,null),"\xa0Edit comment"))))),o.a.createElement("hr",null),o.a.createElement("div",{className:"comment-actions"},o.a.createElement("div",{className:"vote-score-container"},o.a.createElement("span",{onClick:function(){return e.decreaseVotes(t)}},o.a.createElement(y.a,null)),"\xa0",t.voteScore,"\xa0",o.a.createElement("span",{onClick:function(){return e.increaseVotes(t)}},o.a.createElement(y.b,null))),t.author===n.login&&o.a.createElement("div",{className:"comment-buttons"},!1===t.editing&&o.a.createElement(v.d,{color:"link",onClick:function(){return e.enableEditModeComment(t)}},o.a.createElement(y.f,null),"\xa0Edit"),o.a.createElement(v.d,{color:"link",onClick:function(){return e.toggleModal(t)}},o.a.createElement(y.o,null),"\xa0Delete"))))}),o.a.createElement(v.q,{isOpen:this.state.modalConfirmOpened,toggle:this.toggleModal},o.a.createElement(v.t,{toggle:this.toggleModal},"Attention"),o.a.createElement(v.r,null,"Are you sure delete this comment ?"),o.a.createElement(v.s,null,o.a.createElement(v.d,{color:"default",onClick:this.toggleModal},o.a.createElement(y.u,null)," Cancel"),o.a.createElement(v.d,{color:"primary",onClick:function(){return e.deleteComment()}},o.a.createElement(y.d,null)," Confirm"))))}}]),t}(a.Component);var We=Object(E.a)(Object(d.b)(function(e,t){return{comments:e.comments}})(Be)),Ge=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={postId:null,modalConfirmOpened:!1},n.toggleModal=function(){n.setState({modalConfirmOpened:!n.state.modalConfirmOpened})},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.match.params.postId;this.props.dispatch(Se(e))}},{key:"goToHome",value:function(e){e.preventDefault(),this.props.history.push("/")}},{key:"goToRoute",value:function(e,t){e.preventDefault(),this.props.history.push("/".concat(t))}},{key:"increaseVotes",value:function(e){this.props.dispatch(Me(e))}},{key:"decreaseVotes",value:function(e){this.props.dispatch(De(e))}},{key:"editPost",value:function(){var e=this.props.match.params.postId,t=this.props.match.params.categoryName;this.props.history.push("/".concat(t,"/").concat(e,"/edit"))}},{key:"deletePost",value:function(){var e=this.props.match.params.postId,t=this.props.match.params.categoryName;this.props.dispatch(we(e)),this.props.history.push("/".concat(t))}},{key:"render",value:function(){var e=this,t=this.props,n=t.post,a=t.history,r=localStorage.getItem("user")||null;return r=JSON.parse(r),!1===n.loading&&n.data&&n.data.error?(a.push("/page-not-found"),o.a.createElement("div",null,"Redirecting...")):void 0===n.data?o.a.createElement("div",null,"Waiting..."):o.a.createElement("div",{className:"store-post"},o.a.createElement(k,null),o.a.createElement("div",{className:"container"},o.a.createElement(v.b,{tag:"nav",listTag:"div"},o.a.createElement(v.c,{tag:"a",href:"#",onClick:function(t){return e.goToHome(t)}},"Home"),!1===n.loading&&o.a.createElement(v.c,{tag:"a",href:"#",onClick:function(t){return e.goToRoute(t,n.data.category)}},n.data.category.charAt(0).toUpperCase()+n.data.category.slice(1)),o.a.createElement(v.c,{active:!0},!1===n.loading&&n.data.title)),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-8"},!1===n.loading&&o.a.createElement("div",{className:"post"},o.a.createElement("h1",null,n.data.title),o.a.createElement("div",{className:"toolbar"},o.a.createElement("div",{className:"publish-info"},o.a.createElement(y.q,null),"\xa0",n.data.author,"\xa0|\xa0",S()(n.data.timestamp).format("ddd, MMMM Do YYYY")),o.a.createElement("div",{className:"comment-count"},o.a.createElement(y.k,null),"\xa0\xa0",n.data.commentCount)),o.a.createElement("br",null),o.a.createElement("p",null,n.data.body),o.a.createElement("div",{className:"actions"},o.a.createElement("div",{className:"vote-score-container"},o.a.createElement("span",{className:"down",onClick:function(){return e.decreaseVotes(n.data)}},o.a.createElement(y.m,null)),"\xa0",n.data.voteScore,"\xa0",o.a.createElement("span",{className:"up",onClick:function(){return e.increaseVotes(n.data)}},o.a.createElement(y.n,null))),n.data.author===r.login&&o.a.createElement("div",{className:"buttons"},o.a.createElement(v.d,{color:"warning",size:"sm",onClick:function(t){return e.editPost(t)}},o.a.createElement(y.i,null),"\xa0Edit"),o.a.createElement(v.d,{color:"danger",size:"sm",onClick:this.toggleModal},o.a.createElement(y.v,null),"\xa0Delete"))),o.a.createElement("hr",null),o.a.createElement(We,{postId:n.data.id}))),o.a.createElement("div",{className:"col-sm-4"},o.a.createElement(ie,null),o.a.createElement(pe,{selected:this.props.match.params.categoryName}),o.a.createElement("hr",null),o.a.createElement(v.d,{color:"primary",size:"sm",block:!0,onClick:function(t){return e.goToHome(t)}},o.a.createElement(y.g,null),"\xa0Home"))))),o.a.createElement(v.q,{isOpen:this.state.modalConfirmOpened,toggle:this.toggleModal},o.a.createElement(v.t,{toggle:this.toggleModal},"Attention"),o.a.createElement(v.r,null,"Are you sure delete this post ?"),o.a.createElement(v.s,null,o.a.createElement(v.d,{color:"default",onClick:this.toggleModal},o.a.createElement(y.u,null)," Cancel"),o.a.createElement(v.d,{color:"primary",onClick:function(){return e.deletePost()}},o.a.createElement(y.d,null)," Confirm"))))}}]),t}(a.Component);var Fe=Object(E.a)(Object(d.b)(function(e,t){return{categories:e.categories,post:e.post}})(Ge)),Ke=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={title:"",category:"",content:""},n.handleInputChange=function(e,t){n.setState(Object(ae.a)({},e,t))},n.onFormSubmit=function(e){e.preventDefault();var t=n.state,a=t.title,o=t.category,r=t.content,c=n.props.postId,l=localStorage.getItem("user")||null;if(l=JSON.parse(l),void 0!==c){var i={id:c,title:a,body:r,category:o};n.props.dispatch(Te(i))}else{var s={id:Math.random().toString(36).substr(-8),timestamp:Date.now(),title:a,body:r,author:l.login,category:o};n.props.dispatch(Ne(s))}n.props.history.push("/")},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this.props.postId;void 0!==e&&this.props.dispatch(Se(e))}},{key:"componentDidUpdate",value:function(e){var t=this.props.post;t!==e.post&&this.setState({title:t.data.title,content:t.data.body,category:t.data.category})}},{key:"render",value:function(){var e=this,t=this.props.categories;return o.a.createElement("div",{className:"post-form"},o.a.createElement(v.j,{onSubmit:this.onFormSubmit},o.a.createElement(v.k,{tag:"fieldset"},o.a.createElement(v.k,null,o.a.createElement(v.n,{for:"postTitle"},"Title"),o.a.createElement(v.l,{type:"text",name:"postTitle",id:"postTitle",required:!0,onChange:function(t){return e.handleInputChange("title",t.target.value)},value:this.state.title})),o.a.createElement(v.k,null,o.a.createElement(v.n,{for:"postCategory"},"Category"),o.a.createElement(v.l,{type:"select",name:"postCategory",id:"postCategory",required:!0,onChange:function(t){return e.handleInputChange("category",t.target.value)},value:this.state.category},o.a.createElement("option",{value:""},!0===t.loading?"Loading...":"Select"),!1===t.loading&&t.list.map(function(e){return o.a.createElement("option",{value:e.path,key:e.path},e.name.charAt(0).toUpperCase()+e.name.slice(1))}))),o.a.createElement(v.k,null,o.a.createElement(v.n,{for:"postContent"},"Post content"),o.a.createElement(v.l,{type:"textarea",maxLength:"500",required:!0,name:"postContent",id:"postContent",rows:4,onChange:function(t){return e.handleInputChange("content",t.target.value)},"aria-multiline":"true",value:this.state.content})),o.a.createElement(v.k,{check:!0,inline:!0,className:"float-right"},o.a.createElement(v.d,{color:"success"},o.a.createElement(y.r,null)," Publish post")))))}}]),t}(a.Component);var Qe=Object(E.a)(Object(d.b)(function(e,t){return{categories:e.categories,post:e.post}})(Ke)),Xe=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={pageTitle:"New Post",postId:null},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){if("/:categoryName/:postId/edit"===this.props.match.path&&2===Object.keys(this.props.match.params).length){var e=this.props.match.params.postId||0;this.setState({postId:e,pageTitle:"Edit Post"})}}},{key:"goToHome",value:function(e){e.preventDefault(),this.props.history.push("/")}},{key:"render",value:function(){var e=this,t=this.state,n=t.pageTitle,a=t.postId,r=this.props.match.params.categoryName;return o.a.createElement("div",{className:"store-post"},o.a.createElement(k,null),o.a.createElement("div",{className:"container"},o.a.createElement(v.b,{tag:"nav",listTag:"div"},o.a.createElement(v.c,{tag:"a",href:"#",onClick:function(t){return e.goToHome(t)}},"Home"),o.a.createElement(v.c,{active:!0},n)),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-8"},null!==a?o.a.createElement(Qe,{postId:a}):o.a.createElement(Qe,null)),o.a.createElement("div",{className:"col-sm-4"},o.a.createElement(ie,null),o.a.createElement(pe,{selected:r}),o.a.createElement("hr",null),o.a.createElement(v.d,{color:"primary",size:"sm",block:!0,onClick:function(t){return e.goToHome(t)}},o.a.createElement(y.g,null),"\xa0Home"))))))}}]),t}(a.Component),Ze=Object(E.a)(Xe),$e=n(38),et=n.n($e),tt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"goToNewPost",value:function(e){e.preventDefault(),this.props.history.push("/new-post")}},{key:"goToHome",value:function(e){e.preventDefault(),this.props.history.push("/")}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"home"},o.a.createElement(k,null),o.a.createElement("div",{className:"container"},o.a.createElement(v.b,{tag:"nav",listTag:"div"},o.a.createElement(v.c,{tag:"a",href:"#",onClick:function(t){return e.goToHome(t)}},"Home"),o.a.createElement(v.c,{active:!0},"In the middle of nowhere!")),o.a.createElement("div",{className:"content"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-8"},o.a.createElement("p",null,"What?",o.a.createElement("br",null),"This content is no longer available!",o.a.createElement("br",null),"But, don't worry! It's fine! Go to ",o.a.createElement("a",{href:"/",onClick:function(t){return e.goToHome(t)}},"Home")," and try again!"),o.a.createElement("img",{src:et.a,alt:"Page not found"})),o.a.createElement("div",{className:"col-sm-4"},o.a.createElement(ie,null),o.a.createElement(pe,null),o.a.createElement("hr",null),o.a.createElement(v.d,{color:"primary",size:"sm",block:!0,onClick:function(t){return e.goToNewPost(t)}},o.a.createElement(y.j,null),"\xa0New Post"))))))}}]),t}(a.Component),nt=Object(E.a)(tt),at={loading:!0,list:[]},ot={loading:!0,list:[]},rt=n(15),ct={loading:!0,post:{}},lt=n(40),it={loading:!0,list:[]},st=Object(p.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return t.user;default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:at,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return{loading:!1,list:t.categories};default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:switch(t.sortType){case"DATE":return{loading:!1,list:t.posts.sort(function(e,n){return"ASC"===t.sortOrder?e.timestamp-n.timestamp:n.timestamp-e.timestamp}).filter(function(e){return e.title.toUpperCase().includes(t.searchTerm.toUpperCase())})};case"VOTES":return{loading:!1,list:t.posts.sort(function(e,n){return"ASC"===t.sortOrder?e.voteScore-n.voteScore:n.voteScore-e.voteScore}).filter(function(e){return e.title.toUpperCase().includes(t.searchTerm.toUpperCase())})};default:return t.posts}case B:case W:return{loading:!1,list:e.list.map(function(e,n){return e.id===t.post.id?t.post:e})};default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye:return{loading:!1,data:t.post};case Oe:case be:return{loading:!1,data:t.data};case ke:case je:case Ce:return{loading:!1,data:t.post};case Ve:return{loading:!1,data:Object(rt.a)({},e.data,{commentCount:++e.data.commentCount})};case xe:return{loading:!1,data:Object(rt.a)({},e.data,{commentCount:--e.data.commentCount})};default:return e}},comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return{loading:!1,list:t.comments.map(function(e,t){return Object(rt.a)({},e,{editing:!1})})};case Pe:case Ae:return{loading:!1,list:e.list.map(function(e,n){return e.id===t.comment.id?t.comment:e})};case Ve:return{loading:!1,list:Object(lt.a)(e.list).concat([Object(rt.a)({},t.comment,{editing:!1})])};case xe:return{loading:!1,list:e.list.filter(function(e,n){return e.id!==t.comment.id})};case _e:return{loading:!1,list:e.list.map(function(e,n){return e.id===t.comment.id?Object(rt.a)({},t.comment,{editing:!t.comment.editing}):Object(rt.a)({},e,{editing:!1})})};case He:return{loading:!1,list:e.list.map(function(e,n){return e.id===t.comment.id?t.comment:e}).map(function(e,t){return Object(rt.a)({},e,{editing:!1})})};default:return e}}}),ut=n(39),mt=function(e){return function(t){return function(n){console.group(n.type),console.log("Current action: ",n);var a=t(n);return console.log("New state: ",e.getState()),console.groupEnd(),a}}},pt=Object(p.a)(ut.a,mt),dt=Object(p.d)(st,pt),ht=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("user")||null;if(null!==e)e=JSON.parse(e);else{var t={id:Math.random().toString(36).substr(-8),name:"Udacity Student",login:"udacityStudent",template:"cerulean"};localStorage.setItem("user",JSON.stringify(t))}var n=document.getElementsByTagName("head")[0],a=document.createElement("link");a.id="theme",a.rel="stylesheet",a.type="text/css",a.href="./themes/bootstrap.".concat(e.template,".min.css"),n.appendChild(a)}},{key:"render",value:function(){return o.a.createElement(d.a,{store:dt},o.a.createElement(h.a,{basename:"/readable"},o.a.createElement(f.a,null,o.a.createElement(g.a,{path:"/",exact:!0,component:he}),o.a.createElement(g.a,{path:"/page-not-found",component:nt}),o.a.createElement(g.a,{path:"/new-post",component:Ze}),o.a.createElement(g.a,{path:"/:categoryName",exact:!0,component:ve}),o.a.createElement(g.a,{path:"/:categoryName/:postId",exact:!0,component:Fe}),o.a.createElement(g.a,{path:"/:categoryName/:postId/edit",exact:!0,component:Ze}),o.a.createElement(g.a,{path:"*",component:nt}))))}}]),t}(a.Component);c.a.render(o.a.createElement(ht,null),document.getElementById("root"))}},[[41,2,1]]]);
//# sourceMappingURL=main.b47da366.chunk.js.map