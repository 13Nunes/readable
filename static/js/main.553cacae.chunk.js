(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){e.exports=n.p+"static/media/banner.56eac4d3.jpg"},33:function(e,t,n){e.exports=n(54)},44:function(e,t,n){},47:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(15),o=n.n(c),l=n(14),s=n(12),i=n(56),u=n(55),m=(n(42),n(4)),p=n(5),h=n(7),d=n(6),f=n(8),E=n(57),g=n(3),b=n(26),v=n.n(b),O=(n(44),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"header"},r.a.createElement("img",{src:v.a,alt:"Banner"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"text-box"},r.a.createElement("h1",null,"TechnoBlog"),r.a.createElement("p",null,"What's up ?"))))}}]),t}(a.Component)),j=n(27),y=n.n(j),N=(n(47),n(11)),S="http://localhost:3001",C=localStorage.token;C||(C=localStorage.token=Math.random().toString(36).substr(-8));var k={Accept:"application/json","Content-Type":"application/json",Authorization:C},w=function(){return fetch("".concat(S,"/posts"),{headers:k}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},M=function(e){return fetch("".concat(S,"/posts/").concat(e),{headers:k,method:"POST",body:JSON.stringify({option:"upVote"})}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},T=function(e){return fetch("".concat(S,"/posts/").concat(e),{headers:k,method:"POST",body:JSON.stringify({option:"downVote"})}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return console.log(e)})},x=function(){return fetch("".concat(S,"/categories"),{headers:k}).then(function(e){return e.json()}).then(function(e){return e.categories}).catch(function(e){return console.log(e)})},I="LIST_POSTS",V="INCREASE_VOTES",A="DECREASE_VOTES";function D(){return function(e){return w().then(function(t){e(function(e){return{type:I,posts:e}}(t))})}}function J(e){return function(t){return M(e.id).then(function(e){t(function(e){return{type:V,post:e}}(e))})}}function P(e){return function(t){return T(e.id).then(function(e){t(function(e){return{type:A,post:e}}(e))})}}var R=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"goToContent",value:function(e){console.log(e)}},{key:"increaseVotes",value:function(e){this.props.dispatch(J(e))}},{key:"decreaseVotes",value:function(e){this.props.dispatch(P(e))}},{key:"render",value:function(){var e=this,t=this.props.post,n=t.title,a=t.author,c=t.body,o=t.category,l=t.commentCount,s=t.timestamp,i=t.voteScore,u=t.id;return r.a.createElement(g.f,{className:"post-item"},r.a.createElement(g.g,null,r.a.createElement(g.i,null,n," - ",r.a.createElement(g.a,{href:"#",color:"light"},o)),r.a.createElement("div",{className:"toolbar"},r.a.createElement("div",{className:"publish-info"},r.a.createElement(N.g,null),"\xa0",a,"\xa0|\xa0",y()(s).format("ddd, MMMM Do YYYY")),r.a.createElement("div",{className:"comment-count"},r.a.createElement(N.c,null),"\xa0\xa0",l)),c,r.a.createElement("br",null)),r.a.createElement(g.h,{className:"footer"},r.a.createElement("div",{className:"vote-score-container"},r.a.createElement("span",{onClick:function(){return e.decreaseVotes(e.props.post)}},r.a.createElement(N.d,null)),"\xa0",i,"\xa0",r.a.createElement("span",{onClick:function(){return e.increaseVotes(e.props.post)}},r.a.createElement(N.e,null))),r.a.createElement(g.d,{size:"sm",color:"primary",onClick:function(){return e.goToContent(u)}},"Read more")))}}]),t}(a.Component),U=Object(s.b)()(R),_=(n(49),"SET_USER");function z(e){return function(t){return t(function(e){return{type:_,user:e}}(e))}}var Y=function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(h.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={modalOpened:!1,name:""},n.toggleModal=function(){n.setState({modalOpened:!n.state.modalOpened})},n.handleChange=function(e){n.setState({name:e})},n.saveUserData=function(){var e={id:n.props.user.id,name:n.state.name};n.props.dispatch(z(e)),localStorage.setItem("user",JSON.stringify(e)),n.toggleModal()},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("user")||null;if(null===(e=JSON.parse(e))){var t={id:Math.random().toString(36).substr(-8),name:"Udacity Student"};localStorage.setItem("user",JSON.stringify(t)),e=t}this.props.dispatch(z(e)),this.handleChange(e.name)}},{key:"render",value:function(){var e=this,t=this.props.user;return r.a.createElement("div",{className:"user-interface"},r.a.createElement(N.f,null)," Hi, ",t.name," ",r.a.createElement("span",{className:"edit-user",onClick:this.toggleModal},r.a.createElement(N.b,null)),r.a.createElement("hr",null),r.a.createElement(g.q,{isOpen:this.state.modalOpened,toggle:this.toggleModal},r.a.createElement(g.t,{toggle:this.toggleModal},"User data"),r.a.createElement(g.r,null,r.a.createElement(g.j,null,r.a.createElement(g.k,null,r.a.createElement(g.n,{for:"username"},"Name"),r.a.createElement(g.l,{type:"text",name:"username",id:"username",onChange:function(t){return e.handleChange(t.target.value)},value:this.state.name})))),r.a.createElement(g.s,null,r.a.createElement(g.d,{color:"default",onClick:this.toggleModal},r.a.createElement(N.i,null)," Cancel"),r.a.createElement(g.d,{color:"success",onClick:this.saveUserData},r.a.createElement(N.h,null)," Save"))))}}]),t}(a.Component);var B=Object(s.b)(function(e,t){return{user:e.user}})(Y),H="LIST_CATEGORIES";function L(){return function(e){return x().then(function(t){e(function(e){return{type:H,categories:e}}(t))})}}var W=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(L())}},{key:"render",value:function(){var e=this.props.categories;return r.a.createElement("div",{className:"categories"},r.a.createElement(N.a,null)," Categories ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(g.o,null,r.a.createElement(g.p,{tag:"a",href:"/",key:"all"},"All"),e.map(function(e){return r.a.createElement(g.p,{tag:"a",href:e.path,key:e.path},e.name)})))}}]),t}(a.Component);var q=Object(s.b)(function(e,t){return{categories:e.categories}})(W),F=(n(51),function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"post-list"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-8"},r.a.createElement("div",{className:"toolbar"},r.a.createElement("div",null,"Sort by\xa0",r.a.createElement(g.e,{size:"sm"},r.a.createElement(g.d,{outline:!0,color:"info"},"Date"),r.a.createElement(g.d,{outline:!0,color:"info"},"Votes"))),r.a.createElement("div",null,r.a.createElement(g.m,{size:"sm"},r.a.createElement(g.l,{placeholder:"Search..."})))),r.a.createElement("br",null),this.props.posts.map(function(e){return r.a.createElement(U,{post:e,key:e.id})})),r.a.createElement("div",{className:"col-sm-4"},r.a.createElement(B,null),r.a.createElement(q,null))))}}]),t}(a.Component)),G=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(D())}},{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement(O,null),r.a.createElement("div",{className:"container"},r.a.createElement(g.b,{tag:"nav",listTag:"div"},r.a.createElement(g.c,{tag:"a",href:"/"},"Home")),r.a.createElement(F,{posts:this.props.posts})))}}]),t}(a.Component);var K=Object(E.a)(Object(s.b)(function(e,t){return{posts:e.posts}})(G)),Q=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"category"},"Category")}}]),t}(a.Component),X=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"new-post"},"Post")}}]),t}(a.Component),Z=function(e){function t(){return Object(m.a)(this,t),Object(h.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"new-post"},"New Post / Edit post")}}]),t}(a.Component),$=Object(l.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _:return t.user;default:return e}},categories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case H:return t.categories;default:return e}},posts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return t.posts;case V:case A:return e.map(function(e,n){return e.id===t.post.id?t.post:e});default:return e}}}),ee=n(31),te=function(e){return function(t){return function(n){console.group(n.type),console.log("Current action: ",n);var a=t(n);return console.log("New state: ",e.getState()),console.groupEnd(),t(a)}}},ne=Object(l.a)(ee.a,te),ae=Object(l.d)($,ne);o.a.render(r.a.createElement(s.a,{store:ae},r.a.createElement(i.a,{basename:"/readable"},r.a.createElement(a.Fragment,null,r.a.createElement(u.a,{path:"/",exact:!0,component:K}),r.a.createElement(u.a,{path:"/:categoryName",exact:!0,component:Q}),r.a.createElement(u.a,{path:"/:categoryName/:postId",exact:!0,component:X}),r.a.createElement(u.a,{path:"/:categoryName/:postId/edit",exact:!0,component:Z}),r.a.createElement(u.a,{path:"/:categoryName/0/add",exact:!0,component:Z})))),document.getElementById("root"))}},[[33,2,1]]]);
//# sourceMappingURL=main.553cacae.chunk.js.map